include/have_gcs_replication_plugin.inc
include/install_gcs_replication.inc
call mtr.add_suppression("An handler, marked as unique *.*");
call mtr.add_suppression("Cannot start the applier as a *.*");
SET GLOBAL gcs_replication_plugin_group_name= "2d249320-2e06-11e3-aa6e-0800200c9a66";
SET @debug_save= @@GLOBAL.DEBUG;
SET GLOBAL debug= 'd,double_unique_handler';
START GCS_REPLICATION;
ERROR HY000: The START GCS_REPLICATION command failed as the applier module failed to start.
SET @@GLOBAL.DEBUG= @debug_save;
include/start_gcs_replication.inc
SET GLOBAL gcs_replication_plugin_stop_applier_timeout= 2;
include/assert.inc [The value of stop_applier_timeout should be 2]
SET @@GLOBAL.DEBUG= 'd,applier_thd_timeout';
STOP GCS_REPLICATION;
ERROR HY000: The STOP GCS_REPLICATION command execution is incomplete: The applier thread got the stop signal while it was busy. The applier thread will stop once the current task is complete.
START GCS_REPLICATION;
ERROR HY000: The START GCS_REPLICATION command failed as the applier module failed to start.
SET DEBUG_SYNC= "now SIGNAL signal.applier_continue";
SET @@GLOBAL.DEBUG= @debug_save;
include/start_gcs_replication.inc
include/stop_gcs_replication.inc
SET @@GLOBAL.DEBUG= @debug_save;
include/uninstall_gcs_replication.inc
